-- Do we really have rows that match?
SELECT COUNT(*) 
FROM supchain.t_server_sts
WHERE LOWER(TRIM(t_server_sts_state_string)) = 'warehouse';

-- See the distinct raw values (spot spaces/casing)
SELECT DISTINCT t_server_sts_state_string
FROM supchain.t_server_sts
ORDER BY 1;

-- Sanity: what DB/user/schema does the app likely hit?
SELECT current_database(), current_user;
SHOW search_path;
