-- 1) Is the table we query the right one?
SELECT table_schema, table_name
FROM information_schema.tables
WHERE table_name = 't_server_sts';

-- 2) See what values exist in the state column
SELECT DISTINCT t_server_sts_state_string
FROM supchain.t_server_sts
ORDER BY 1;

-- 3) How many “warehouse” rows (case/space safe)?
SELECT COUNT(*) 
FROM supchain.t_server_sts s
WHERE lower(trim(s.t_server_sts_state_string)) = 'warehouse';
